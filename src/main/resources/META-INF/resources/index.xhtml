<!DOCTYPE html>
<h:html xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Bank Account System</title>
    <link rel="stylesheet" href="https://unpkg.com/primeflex@^3/primeflex.css"/>
</h:head>

<h:body>
   <div class="card">
    <h:form id="shape-accounts">
        <div class="card">
            <p:menubar>
                <p:menuitem value="Home" icon="pi pi-fw pi-user"
                            update="shape-accounts"
                            actionListener="#{indexController.loadData}"/>
                <p:menuitem value="New Account" icon="pi pi-fw pi-plus"
                            actionListener="#{indexController.addAccount}"
                            update="shape-modal:account-window"
                            oncomplete="PF('windowModalAccount').show()"/>
            </p:menubar>

        </div>
        <p:growl id="messages" showDetail="true"/>
       <div class="card">
           <p:dataTable value="#{indexController.accounts}" var="account"
                id="account-table" widgetVar="accountTable">
                                       <f:facet name="header">
                            <div class="flex justify-content-center flex-wrap
                            card-container yellow-container">
                                <div class="flex align-items-center justify-content-center
                                           w-20rem h-4rem bg-yellow-500 font-bold
                                           text-gray-900 border-round m-2">
                                    <h3>Bank Account System</h3>
                                </div>
                            </div>
                        </f:facet>

               <p:column headerText="Id">
                   <h:outputText value="#{account.idAccount}"/>
               </p:column>

               <p:column headertext="Name">
                   <h:outputText value="#{account.name}"/>
               </p:column>

              <p:column headertext="Account Type">
                  <h:outputText value="#{account.accountType}"/>
              </p:column>

               <p:column headertext="Balance">
                   <h:outputText value="#{account.balance}">
                       <f:convertNumber type="currency" currencySymbol="$"/>
                   </h:outputText>
               </p:column>

           </p:dataTable>
       </div>
    </h:form>
       <h:form id="shape-modal">
           <p:dialog header="Details Accounts" showEffect="fade"
                     modal="true" widgetVar="windowModalAccount"
                     responsive="true">
               <p:outputPanel id="account-window" class="ui-fluid">
                   <div class="field">
                       <p:outputLabel for="name">Name</p:outputLabel>
                       <p:inputText id="name"
                                    value="#{indexController.selectedAccount.name}"
                                    required="true"/>
                   </div>
                   <div class="field">
                       <p:outputLabel for="accountType">Account Type</p:outputLabel>
                       <p:selectOneMenu id="accountType"
                                      value="#{indexController.selectedAccount.accountType}">
                           <f:selectItem  itemLabel="Choose" itemValue=""/>
                           <f:selectItem  itemLabel="Saving" itemValue="Saving"/>
                           <f:selectItem  itemLabel="Credit" itemValue="Credit"/>
                           <f:selectItem  itemLabel="Investment" itemValue="Investment"/>

                       </p:selectOneMenu>
                   </div>
                       <div class="field">
                           <p:outputLabel for="balance">Balance</p:outputLabel>
                           <p:inputNumber id="balance"
                                          value="#{indexController.selectedAccount}"/>
                       </div>
               </p:outputPanel>
           </p:dialog>


       </h:form>

   </div>
</h:body>
</h:html>